(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["busines/page/shopOwner/peopleManage"],{"2d4c":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.isUse=!1},t.e1=function(e){t.isUse=!1})},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},"60ff":function(t,e,n){"use strict";n.r(e);var o=n("8d44"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},"8d44":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){return n.e("components/nodata").then(n.bind(null,"b7f3"))},i=function(){return n.e("components/drag-button").then(n.bind(null,"bc24"))},a={data:function(){return{page:1,limit:10,load:!1,roleList:[],values:[],isUse:!1,index:null,type:"",role_type:"",key:"",workStatus:[{name:"工作",status:"1"},{name:"下班",status:"2"}],scroll_h:0,current:0}},components:{nodata:o,dragButton:i},onReachBottom:function(){this.load||(this.page++,this.getWorker())},onShow:function(){this.getScrollHeight(),this.getRole()},methods:{addpeople:function(t){this.$api.openWin("/busines/page/shopOwner/addpeople?list="+JSON.stringify(this.values[t])+"&roleList="+JSON.stringify(this.roleList))},getScrollHeight:function(){var e=t.getSystemInfoSync(),n=e.windowHeight;e.windowWidth;this.scroll_h=n},changeCurrent:function(t){this.current=t,this.role_type=this.roleList[t].id,this.key="",this.getWorker()},serachKey:function(t){var e=this.$api.isEmpty(t.detail.value);this.key=e,e?this.$api.toast("无效输入"):this.getWorker()},changeStatus:function(t,e){var n=this;n.values[t].work_status?(n.type=e,n.$api.ajax("smdc/worker/workType",{shop_id:n.$store.state.shopId},function(e){n.index=t,n.isUse=!0})):n.$api.toast("该员工暂未入职,无法安排工作")},changerole:function(t,e){var n=this;if("role"==e)var o={shop_id:n.$store.state.shopId,id:n.values[n.index].id,type:n.roleList[t].id},i="smdc/worker/toUpdateType";if("work"==e)o={shop_id:n.$store.state.shopId,id:n.values[n.index].id,status:n.workStatus[t].status},i="smdc/worker/toUpdateStatus";n.$api.ajax(i,o,function(t){n.getWorker()},"POST",!0)},getWorker:function(){var t=this;t.load=!0,t.$api.ajax("smdc/worker/list",{shop_id:t.$store.state.shopId,page:t.page,limit:t.limit,type:t.role_type,username:t.key},function(e){t.load=!0,1==t.page?t.values=e.data:t.values.concat(e.data),t.values.map(function(e){t.roleList.map(function(t){e.type==t.id&&(e.type_name=t.type_name)})})})},getRole:function(){var t=this;t.$api.ajax("smdc/worker/workType",{shop_id:t.$store.state.shopId},function(e){t.roleList=e.data,t.role_type=t.roleList[0].id,t.getWorker()})}}};e.default=a}).call(this,n("6e42")["default"])},aec3:function(t,e,n){},cdb0:function(t,e,n){"use strict";n.r(e);var o=n("2d4c"),i=n("60ff");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("d4fb");var s,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=u.exports},d4fb:function(t,e,n){"use strict";var o=n("aec3"),i=n.n(o);i.a},ff80:function(t,e,n){"use strict";(function(t){n("505a"),n("921b");o(n("66fd"));var e=o(n("cdb0"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["ff80","common/runtime","common/vendor"]]]);