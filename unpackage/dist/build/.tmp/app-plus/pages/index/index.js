(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1c5e":function(t,e,n){"use strict";n.r(e);var o=n("6d54"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},"2ab4":function(t,e,n){"use strict";n.r(e);var o=n("cf59"),i=n("1c5e");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("fa7f");var s,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=u.exports},"6ab2":function(t,e,n){"use strict";(function(t){n("505a"),n("921b");o(n("66fd"));var e=o(n("2ab4"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"6d54":function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("2f62");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){return n.e("components/footer").then(n.bind(null,"e6ad"))},u=function(){return n.e("components/drag-button").then(n.bind(null,"bc24"))},r=function(){return n.e("components/showmodal").then(n.bind(null,"b674"))},d={data:function(){return{show:!1,iconName:"unfold",iconText:"展开",detail_show:!1,data:{},homeInit:!0,title:"",text:"",isLoad:!1,refresh:!1,scanModal:!1}},computed:(0,i.mapState)(["hasLogin","uid","userInfo","hasShop","shopId","needScan","_config","hasDesk","deskId","deskNum"]),components:{xFooter:c,showmodal:r,dragButton:u},onPullDownRefresh:function(){this.refresh=!0,this.isLoad=!1,this.getData()},onLoad:function(){this.$api.getStorage("wx_audit");var e=this;this.$api.ajax("smdc/version",{},function(n){t.setStorageSync("wx_audit",n.data),e.title=n.data.title,e.text=n.data.text,t.setNavigationBarTitle({title:n.data.title})}),this.title=this.$store.state.wx_audit.title,this.text=this.$store.state.wx_audit.text,this.shopId&&this.getData()},onShow:function(){this.needScan&&t.redirectTo({url:"./scan"})},methods:a({},(0,i.mapMutations)(["intoShop","intoDesk","_setPhone","setIntr","intoCancleTime","changeNeedScan","_setConfig"]),{btnClick:function(){this.scanModal=!0},getData:function(){var e=this;this.$api.ajax("smdc/index/index",{shop_id:this.shopId,action:0},function(n){e.data=n.data,e.isLoad=!0,setTimeout(function(){e.refresh=!1,t.stopPullDownRefresh()},1e3),e.setIntr(n.data.config1.intro),e._setConfig(n.data.config),e.intoCancleTime(n.data.shop.cancle_time),n.data.shop.contact_mobile&&e._setPhone(n.data.shop.contact_mobile)},"POST",!0)},sure:function(t){if(t){var e=this;e.$api.ajax("smdc/message/toAddWaitMessage",{shop_id:this.shopId,no:e.$store.state.deskId},function(t){e.scanModal=!1,e.$api.toast("稍等片刻,服务员马上就来!")},"POST")}},hide:function(t){this.scanModal=!1},goMenu:function(){this.$api.openWin("../menu/menu")},toggleDetail:function(){this.detail_show?(this.detail_show=!1,this.iconName="unfold",this.iconText="展开"):(this.detail_show=!0,this.iconName="fold",this.iconText="收起")},goodsDetail:function(t){this.$api.openWin("../details/details?goodsId="+t)},preview:function(e){t.previewImage({count:e,urls:data.shop.banner_ids})},callPhone:function(){t.makePhoneCall({phoneNumber:this.data.shop.contact_mobile})},nav:function(t){this.$api.openWin(t)},toLink:function(e,n){e&&(1==n?this.$api.openWin("/pages/details/details?goodsId="+e):t.reLaunch({url:e}))}}),onShareAppMessage:function(t){return"button"===t.from&&console.log(o(t.target," at pages\\index\\index.vue:307")),{title:"智慧餐厅",path:"/pages/index/index"}}};e.default=d}).call(this,n("6e42")["default"],n("0de9")["default"])},8935:function(t,e,n){},cf59:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},fa7f:function(t,e,n){"use strict";var o=n("8935"),i=n.n(o);i.a}},[["6ab2","common/runtime","common/vendor"]]]);