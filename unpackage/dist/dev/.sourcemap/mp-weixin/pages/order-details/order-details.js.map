{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/order-details/order-details.vue?68d3","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/order-details/order-details.vue?be91","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/order-details/order-details.vue?6ca5","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/order-details/order-details.vue?0496","uni-app:///pages/order-details/order-details.vue","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/order-details/order-details.vue?3d46","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/order-details/order-details.vue?2fa6"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACc;;;AAG1E;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAosB,CAAgB,oqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoRxtB,+C;AACA;AACA,MADA,kBACA;AACA;AACA,gBADA;AAEA,oBAFA,EAEA;AACA,cAHA;AAIA,oBAJA;AAKA,mBALA;AAMA,wBANA,EAMA;AACA,oBAPA;AAQA,oBARA;AASA,oBATA;AAUA,gBAVA;AAWA;AACA,aADA;AAEA,oBAFA,GAXA;;AAeA,oBAfA;AAgBA,gBAhBA;AAiBA,gBAjBA;AAkBA,eAlBA;AAmBA,aAnBA;AAoBA,kBApBA;AAqBA,oBArBA;AAsBA,cAtBA,EAsBA;AACA,wBAvBA;AAwBA,cAxBA;AAyBA,oBAzBA;AA0BA,gDA1BA;;AA4BA,GA9BA;AA+BA,4CA/BA;AAgCA;AACA,kBADA;AAEA,8BAFA,EAEA,oBAFA,EAhCA;;AAoCA,mBApCA,+BAoCA;AACA;AACA,GAtCA;AAuCA,QAvCA,kBAuCA,CAvCA,EAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA/CA;AAgDA,QAhDA,oBAgDA;AACA;AACA,GAlDA;AAmDA;AACA;AACA,iBAFA,2BAEA;AACA;AACA;AACA,0CADA;AAEA;AACA;AACA,OAJA,EAIA,MAJA;AAKA,KATA;;AAWA;AACA,cAZA,sBAYA,IAZA,EAYA,IAZA,EAYA;AACA;AACA;AACA;AACA,KAhBA;;AAkBA,QAlBA,kBAkBA;AACA;AACA,KApBA;AAqBA,QArBA,kBAqBA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA,+BAFA;AAGA,eAHA;AAIA,mCAJA;AAKA,yCALA;AAMA,gCANA;AAOA;AACA;AACA;AACA;AACA,yBADA;AAEA,4BAFA;AAGA,mBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,aATA;;AAWA,SAZA,MAYA;AACA;AACA;AACA,OAxBA,EAwBA,MAxBA,EAwBA,IAxBA;AAyBA,KAtDA;;AAwDA;AACA,UAzDA,oBAyDA;AACA;AACA;AACA,0CADA;AAEA,wBAFA;AAGA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA,IAHA;AAIA,OATA,EASA,MATA;AAUA,KArEA;AAsEA,WAtEA,qBAsEA;AACA;AACA;AACA,mCADA,EACA;AACA,+BADA;AAEA,yCAFA,EADA;;AAKA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA,yEAFA;;AAIA;AACA;AACA;AACA;AACA,gCAbA,CAaA;AACA,gDAdA,CAcA;AACA,oDAfA,CAeA;AACA,yCAhBA,CAgBA;AACA;AACA,wDADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OArCA,EAqCA,MArCA,EAqCA,IArCA;;AAuCA,KA/GA;AAgHA,aAhHA,qBAgHA,CAhHA,EAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CADA;AAEA,uCAFA;AAGA,wCAHA;AAIA,8DAJA;AAKA,4EALA;AAMA;AACA;AACA,SARA,EAQA,MARA;AASA,OAXA,MAWA;AACA;AACA;AACA,KAlIA;AAmIA,OAnIA,iBAmIA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAzIA;;AA2IA,UA3IA,oBA2IA;AACA;;;;;;;AAOA;;;AAGA;AACA,yCADA;AAEA,0CAFA;AAGA,4BAHA;AAIA;AACA;AACA,OANA,EAMA,MANA;AAOA,KA7JA;AA8JA,UA9JA,oBA8JA;AACA;AACA,6BADA;AAEA,mCAFA;;AAIA;AACA,+BADA;;AAGA,KAtKA;AAuKA,cAvKA,wBAuKA;AACA;AACA,KAzKA;AA0KA,cA1KA,wBA0KA;AACA;AACA;AACA;AACA,KA9KA;AA+KA,cA/KA,wBA+KA;AACA;AACA,KAjLA;AAkLA,gBAlLA,wBAkLA,CAlLA,EAkLA;AACA;AACA;AACA,KArLA;AAsLA,aAtLA,qBAsLA,KAtLA,EAsLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA,MASA;AACA;AACA;AACA;AACA,KApMA;AAqMA,iBArMA,yBAqMA,CArMA,EAqMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9MA;AA+MA,YA/MA,oBA+MA,UA/MA,EA+MA,KA/MA,EA+MA,GA/MA,EA+MA;AACA;AACA;AACA,KAlNA;;AAoNA;AACA,aArNA,uBAqNA;AACA;AACA,4DADA;;AAGA,KAzNA,EAnDA,E;;;;;;;;;;;;;ACrRA;AAAA;AAAA;AAAA;AAAixC,CAAgB,kpCAAG,EAAC,C;;;;;;;;;;;ACAryC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order-details/order-details.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order-details/order-details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-details.vue?vue&type=template&id=e7735216&\"\nvar renderjs\nimport script from \"./order-details.vue?vue&type=script&lang=js&\"\nexport * from \"./order-details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order-details.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Backup/桌面/历史项目/scanCode0531/scanCode/pages/order-details/order-details.vue\"\nexport default component.exports","export * from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-details.vue?vue&type=template&id=e7735216&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.$api.format(_vm.data.create_time)\n  var g1 = (\n    parseFloat(_vm.data.coupon_price) + parseFloat(_vm.data.total_price)\n  ).toFixed(2)\n  var g2 = _vm.$api.format(_vm.data.create_time)\n  var g3 = (\n    parseFloat(_vm.data.coupon_price) + parseFloat(_vm.data.total_price)\n  ).toFixed(2)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view v-if=\"data\">\r\n\t\t<block v-if=\"data.admin_check === 1 && data.status== 0\">\r\n\t\t\t<view class=\"block\">\r\n\t\t\t\t<view class=\"tab1\">\r\n\t\t\t\t\t<view class=\"tab1-1\">待支付</view>\r\n\t\t\t\t\t<view class=\"tab1-1-tip\">支付完成后，店内才可接收订单信息，进行制作</view>\r\n\t\t\t\t\t<uni-countdown color=\"#FC6844\" background-color=\"#ffffff\" border-color=\"#fff\" :show-day=\"false\" :hour=\"hour\"\r\n\t\t\t\t\t :minute=\"minute\" :second=\"second\" :reset=\"reset\" :ctime=\"data.create_time\" @timeup=\"timeUp\" v-if=\"data\"> </uni-countdown>\r\n\r\n\t\t\t\t\t<view class=\"tab1-1-cancel\" @click=\"timeUp()\">\r\n\t\t\t\t\t\t取消订单\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab2\">\r\n\t\t\t\t\t<view class=\"tab2-1\">共{{ data.food ? data.food.length : '' }}件商品</view>\r\n\t\t\t\t\t<!-- 订单商品列表 start -->\r\n\t\t\t\t\t<block v-if=\"data.food.length\" v-for=\"list in data.food\" :key=\"list.id\">\r\n\t\t\t\t\t\t<view class=\"tab2-2\">\r\n\t\t\t\t\t\t\t<view class=\"tab2-2-1\">\r\n\t\t\t\t\t\t\t\t<view class=\"tab2-2-1-img\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"list.cover ? list.cover[0] : '/static/noImg.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tab2-2-1-1\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1 mar-20\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"tab2-2-2-1-title1\">{{ list.name }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1-title1\" :hidden=\"!list.tid || list.tid =='0'\">{{list.label_name}}</view> -->\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1-title1\" :hidden=\"list.tid || list.tid !='0'\">{{ list.name }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1-title1\" :hidden=\"!list.tid || list.tid =='0'\">{{ list.name }}--{{list.label_name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1-title2\">\r\n\t\t\t\t\t\t\t\t\t\t\t￥{{list.pricex}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex_row flex_sb\">\r\n\t\t\t\t\t\t\t\t\t\t<text>×{{ list.num }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<view class=\"select-coupon\" @click=\"showCoupon\" v-if=\"!data.couponid &&  _config.is_open_coupon =='1'\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<image src=\"/static/coupon_icon.png\" class=\"icon\"></image>\r\n\t\t\t\t\t\t\t<view>可用优惠券</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t<view v-if=\"couponInfo\" style=\"color: red;\">{{couponInfo.coupon_name}}</view>\r\n\t\t\t\t\t\t\t<view v-else>{{couponList.length ? couponList.length+'张优惠券' : '暂无优惠券'}}</view>\r\n\t\t\t\t\t\t\t<text class=\"lg text-gray cuIcon-right\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 优惠券窗口 -->\r\n\t\t\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"show_coupon?'show':''\">\r\n\t\t\t\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t\t\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t\t\t\t\t\t<view class=\"action text-blue\" @tap=\"useCoupon(false)\">不使用用优惠券</view>\r\n\t\t\t\t\t\t\t\t<view class=\"action text-green\" @tap=\"useCoupon(true)\">确定</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t<scroll-view scroll-y style=\"height: 800upx;\">\r\n\t\t\t\t\t\t\t\t\t<block v-for=\"(item,i) in couponList\" :key=\"i\" v-if=\"couponList.length\">\r\n\t\t\t\t\t\t\t\t\t\t<coupon :list=\"item\" :index=\"i\" :current=\"current\" @selectCoupon=\"selectCoupon\"></coupon>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"couponList.length==0\" class=\"nocounp-img\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"img\" src=\"../../static/newimg/nocounp.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"notip\">暂无可用优惠券</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 订单商品列表 end -->\r\n\t\t\t\t\t<view class=\"tab2-3\">\r\n\t\t\t\t\t\t<view v-if=\"data.couponid\" class=\"price1\">共优惠￥{{ data.coupon_price }}</view>\r\n\t\t\t\t\t\t<view v-else-if=\"couponInfo.coupon_price\" class=\"price1\">共优惠￥{{ couponInfo.coupon_price }}</view>\r\n\t\t\t\t\t\t<view class=\"price2\">￥{{ couponInfo ? totalMoney2 : data.total_price }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab3\">\r\n\t\t\t\t\t<!-- <view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">备注</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.bz ? data.bz : '无' }}</view>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\r\n                    <view class=\"tab3-1\">\r\n                    \t<view class=\"tab3-1-1\">订单编号:</view>\r\n                    \t<view class=\"tab3-1-2\">{{ data.order_no }}</view>\r\n                    </view>\r\n\t\t\t\t\t<view class=\"tab3-1 bor-bt\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">下单时间:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ $api.format(data.create_time)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">桌&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;号:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.deskid }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">用餐人数:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.custom }}人</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\" v-if=\"_config.table_fee\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">餐&nbsp;&nbsp;位&nbsp;&nbsp;费:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{alreadyOId?'0':_config.table_fee?_config.table_fee:'0'}}/人</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\" v-if=\"_config.season_fee\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">调&nbsp;&nbsp;味&nbsp;&nbsp;费:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{alreadyOId?'0':_config.season_fee?_config.season_fee:'0'}}/人</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1 bor-bt\" v-if=\"_config.tissue_fee\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">纸&nbsp;&nbsp;巾&nbsp;&nbsp;费:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{alreadyOId?'0':_config.tissue_fee?_config.tissue_fee:'0'}}/桌</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">订单金额:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{ data.coupon_price ? (parseFloat(data.coupon_price)+parseFloat(data.total_price)).toFixed(2) : data.total_price }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">实付金额:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{ couponInfo ? totalMoney2 : data.total_price }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <picker mode=\"selector\" :range=\"payTypeList\" range-key=\"name\" @change=\"selectPayType\">\r\n\t\t\t\t\t\t<view class=\"tab3-1  border-bottom\" style=\"align-items: center;\">\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-1\">支付方式:</view>\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-2\">{{payTypeList[pay_current].name}}</view>\r\n\t\t\t\t\t\t\t<view class=\"cuIcon-right\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</picker> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"white-block\"></view>\r\n\t\t\t\t<view v-if=\"data.status == 0\" class=\"tab4\">\r\n\t\t\t\t\t<form @submit=\"setCoupon\" report-submit=\"true\" style=\"width: 100%;\">\r\n\t\t\t\t\t\t<button class=\"tab4-1\" form-type=\"submit\">立即支付</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<!-- <form @submit=\"goMenu\" report-submit=\"true\" style=\"width: 50%;\">\r\n\t\t\t\t\t\t<button class=\"tab4-2\" form-type=\"submit\">继续点单</button>\r\n\t\t\t\t\t</form> -->\r\n\t\t\t\t\t<!-- <view class=\"tab4-1\" style=\"width: 50%;\" @click=\"setCoupon\">立即支付</view>\r\n\t\t\t\t\t<view class=\"tab4-2\" @click=\"goMenu\">继续点单</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<block v-else>\r\n\t\t\t<view class=\"block\">\r\n\t\t\t\t<view class=\"tab1\" v-if=\"data.admin_check === 2 && data.status==0\">\r\n\t\t\t\t\t<view class=\"tab1-1\">订单已经取消</view>\r\n\t\t\t\t\t<view class=\"tab1-1-tip\">期待下次光临~</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab1\" v-if=\"data.admin_check === 1\" >\r\n\t\t\t\t\t<view class=\"tab1-1\">已支付</view>\r\n\t\t\t\t\t<view class=\"tab1-1-tip\">美味稍后就来~</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab1\" v-if=\"data.admin_check === 3\">\r\n\t\t\t\t\t<view class=\"tab1-1\">订单已完成</view>\r\n\t\t\t\t\t<view class=\"tab1-1-tip\">期待下次光临~</view>\r\n\t\t\t\t\t<view class=\"tab1-1-cancel\" @click=\"evalOrder()\">\r\n\t\t\t\t\t\t评价订单\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab2\">\r\n\t\t\t\t\t<view class=\"tab2-1\">共{{ data.food ? data.food.length : '' }}件商品</view>\r\n\t\t\t\t\t<!-- 订单商品列表 start -->\r\n\t\t\t\t\t<block v-if=\"data.food.length\" v-for=\"list in data.food\" :key=\"list.id\">\r\n\t\t\t\t\t\t<view class=\"tab2-2\">\r\n\t\t\t\t\t\t\t<view class=\"tab2-2-1\">\r\n\t\t\t\t\t\t\t\t<view class=\"tab2-2-1-img\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"list.cover ? list.cover[0] : '/static/noImg.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tab2-2-1-1\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1 mar-20\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1-title1\" :hidden=\"list.tid || list.tid !='0'\">{{ list.name }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1-title1\" :hidden=\"!list.tid || list.tid =='0'\">{{ list.name }}--{{list.label_name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"tab2-2-2-1-title2\">\r\n\t\t\t\t\t\t\t\t\t\t\t￥{{list.pricex}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex_row flex_sb\">\r\n\t\t\t\t\t\t\t\t\t\t<text>×{{ list.num }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"type !=1 && data.status==1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"return_food mBg _cff\" @click=\"returnFood(list,1)\"\r\n\t\t\t\t\t\t\t\t\t\t\t v-if=\"!list.deal_user_id && list.is_finish==0 && \r\n\t\t\t\t\t\t\t\t\t\t\t   list.is_refund==0 && !list.refund_status && data.admin_check == 1 \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t退菜\r\n\t\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"return_food mBg _cff\" @click=\"returnFood(list,2)\"\r\n\t\t\t\t\t\t\t\t\t\t\t v-if=\"list.is_delivery ==1 && list.is_refund==0 && !list.refund_status && data.admin_check == 1 \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t申请退菜\r\n\t\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<text>{{data.admin_check==2?'已取消':(list.is_refund==1 || list.refund_status==2)?'已退菜':list.refund_status==1?'退菜审核中':list.refund_status==3?'退菜审核失败':list.is_delivery==1?'已配送':list.is_finish==1?'配送中':!list.deal_user_id?'等待制作':dishStatus[list.make_status]+'中' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<!-- 订单商品列表 end -->\r\n\t\t\t\t\t<view class=\"tab2-3\">\r\n\t\t\t\t\t\t<view v-if=\"data.coupon_price && data.coupon_price != '0.00'\" class=\"price1\">共优惠￥{{ data.coupon_price }}</view>\r\n\t\t\t\t\t\t<view class=\"price2\">订单实付:￥{{data.total_fee || '0.00' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab3\">\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">订单编号:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.order_no }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">下单时间:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ $api.format(data.create_time) }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1 bor-bt\" v-if=\"data.admin_check === 3\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">支付时间:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.pay_time_end }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">桌 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;号:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.deskid }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">用餐人数:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.custom }}人</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">餐&nbsp;&nbsp;位&nbsp;&nbsp;费:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{alreadyOId?'0':_config.table_fee?_config.table_fee:'0'}}/人</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1\" >\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">调&nbsp;&nbsp;味&nbsp;&nbsp;费:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{alreadyOId?'0':_config.season_fee?_config.season_fee:'0'}}/人</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tab3-1 bor-bt\" >\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">纸&nbsp;&nbsp;巾&nbsp;&nbsp;费:</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{alreadyOId?'0':_config.tissue_fee?_config.tissue_fee:'0'}}/桌</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 付完钱才有的 -->\r\n\t\t\t\t\t<block v-if=\"!isNoPay\">\r\n\t\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-1\">订单金额:</view>\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{ data.couponid ? (parseFloat(data.coupon_price)+parseFloat(data.total_price)).toFixed(2) : data.total_price }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-1\">实付金额:</view>\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-2\">￥{{ data.total_fee ? data.total_fee : 0 }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1\">\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-1\">支付方式:</view>\r\n\t\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.pay_type }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<!-- <view class=\"tab3-1 border-bottom\">\r\n\t\t\t\t\t\t<view class=\"tab3-1-1\">备注</view>\r\n\t\t\t\t\t\t<view class=\"tab3-1-2\">{{ data.bz ? data.bz : '无' }}</view>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"white-block\"></view>\r\n\t\t\t\t<view v-if=\"data.status == 0 && data.admin_check==1\" class=\"tab4\">\r\n\t\t\t\t\t<view class=\"tab4-1\" @click=\"pay\">立即支付</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t\r\n\t\t<showmodal :modal='refundModal' msg='是否退菜' @sure='sure' @hide='hide' v-if=\"refundModal\"></showmodal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport showmodal from '../../components/showmodal.vue';\r\n\timport coupon from '../../components/coupon.vue';\r\n\timport uniCountdown from '../../components/uni-countdown.vue';\r\n\timport {mapState} from 'vuex';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\torderId: 0,\r\n\t\t\t\talreadyOId:'',//上一个页面传下来的，判断桌子是否已经下单的id\r\n\t\t\t\tdata: '',\r\n\t\t\t\tisNoPay: false,\r\n\t\t\t\tisLoad: false,\r\n\t\t\t\tshow_coupon: false, //优惠券弹窗 \r\n\t\t\t\tcouponList: [],\r\n\t\t\t\tcouponInfo: '',\r\n\t\t\t\ttotalMoney2: 0,\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tpayTypeList: [{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: \"微信支付\"\r\n\t\t\t\t}],\r\n\t\t\t\tpay_current: 0,\r\n\t\t\t\tformId: '',\r\n\t\t\t\tminute: 30,\r\n\t\t\t\tsecond: 0,\r\n\t\t\t\thour: 0,\r\n\t\t\t\treset: false,\r\n\t\t\t\tdishStatus: '',\r\n\t\t\t\ttype: '', //1代表是点单页面进入的订单详情\r\n\t\t\t\trefundModal:false,\r\n\t\t\t\tlist:\"\",\r\n\t\t\t\trefundtype:\"\",\r\n\t\t\t\tcancle_time:this.$store.state.cancle_time \r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: mapState(['_config']),\r\n\t\tcomponents: {\r\n\t\t\tcoupon,\r\n\t\t\tuniCountdown,showmodal\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.getData()\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tif (e.orderId) {\r\n\t\t\t\tthis.orderId = e.orderId;\r\n\t\t\t\tthis.type = e.type\r\n\t\t\t\tthis.getdishStatus()\r\n\t\t\t\tthis.getData();\r\n\t\t\t}\r\n\t\t    e.alreadyOId && (this.alreadyOId = e.alreadyOId)\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.orderId && this.getData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取菜品状态列表\r\n\t\t\tgetdishStatus() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.$api.ajax('smdc/food_process/FoodProcessList', {\r\n\t\t\t\t\tshop_id: _this.$store.state.shopId,\r\n\t\t\t\t}, function(ret) {\r\n\t\t\t\t\t_this.dishStatus = ret.data\r\n\t\t\t\t}, 'POST')\r\n\t\t\t},\r\n\r\n\t\t\t// 用户退菜\r\n\t\t\treturnFood(list,type) {\r\n\t\t\t    this.refundModal = true\r\n\t\t\t\tthis.refundtype = type \r\n\t\t\t\tthis.list = list\r\n\t\t\t},\r\n\t\t\r\n\t\t\thide(){\r\n\t\t\t\tthis.refundModal = false\r\n\t\t\t},\r\n\t\t\tsure(){\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tif(_this.refundtype==1){\r\n\t\t\t\t    var url = \"smdc/order/orderRefund\"\r\n\t\t\t\t}else if(_this.refundtype == 2){\r\n\t\t\t\t\tvar url = \"smdc/order_Refund/add\"\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(_this.list.id,_this.orderId)\r\n\t\t\t\t_this.$api.ajax(url, {\r\n\t\t\t\t\tshop_id: _this.$store.state.shopId,\r\n\t\t\t\t\torder_id: _this.orderId,\r\n\t\t\t\t\ttype: 0,\r\n\t\t\t\t\tsale_food_id: _this.list.id,\r\n\t\t\t\t\tdeskid:_this.$store.state.deskId,\r\n\t\t\t\t\tmoney:_this.list.pricex,\r\n\t\t\t\t}, function(ret) {\t\t\t\t\t\r\n\t\t\t\t\t_this.refundModal = false\r\n\t\t\t\t\tif(ret.status==0){\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t  title: '系统提示',\r\n\t\t\t\t\t\t  content: ret.msg,\r\n\t\t\t\t\t\t  success (res) {\r\n\t\t\t\t\t\t    if (res.confirm) {\r\n\t\t\t\t\t\t      _this.getData()\r\n\t\t\t\t\t\t    } else if (res.cancel){\r\n\t\t\t\t\t\t\t\t_this.getData()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.getData()\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 'POST',true)\r\n\t\t\t},\r\n\r\n\t\t\t// 倒计时取消订单\r\n\t\t\ttimeUp() {\r\n\t\t\t\tvar _this = this\r\n\t\t\t\t_this.$api.ajax('smdc/order/cancelOrder', {\r\n\t\t\t\t\tshop_id: _this.$store.state.shopId,\r\n\t\t\t\t\tid: this.orderId\r\n\t\t\t\t}, function(ret) {\r\n\t\t\t\t\t_this.$api.toast('订单已取消', 'success');\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_this.$store.commit('_clearOrderId');\r\n\t\t\t\t\t\t_this.getData()\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}, 'POST');\r\n\t\t\t},\r\n\t\t\tgetData() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.$api.ajax(\r\n\t\t\t\t\t'smdc/order/get_order_detail', {\r\n\t\t\t\t\t\torder_id: _this.orderId,\r\n\t\t\t\t\t\tshop_id: this.$store.state.shopId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(ret) {\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\tlet data = ret.data;\r\n\t\t\t\t\t\tdata.food.map(item => (\r\n\t\t\t\t\t\t\titem.sale_price == '0.00' ? item.pricex = (parseInt(item.num) * parseFloat(item.price)).toFixed(2) : item.pricex =\r\n\t\t\t\t\t\t\t(parseInt(item.num) * parseFloat(item.sale_price)).toFixed(2)\r\n\t\t\t\t\t\t));\r\n\t\t\t\t\t\t// if (ret.data.status == 0) {\r\n\t\t\t\t\t\t// \t_this.getCoupon();\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// 计算支付倒计时\r\n\t\t\t\t\t\tlet nowtime = data.time; //获取当前时间\r\n\t\t\t\t\t\tlet canceltime = _this.cancle_time * 60 //15min的秒数,订单超过15分钟未支付就自动取消\r\n\t\t\t\t\t\tlet endTime = data.create_time + canceltime; // 最晚可以支付结束时间\r\n\t\t\t\t\t\tlet usedTime = endTime - nowtime ; // 支付相差的秒数\r\n\t\t\t\t\t\tif (usedTime> 0 && data.status==0 && data.admin_check==1 ) { \r\n\t\t\t\t\t\t\tlet days = Math.floor(usedTime / (24 * 3600)); // 计算出天数\r\n\t\t\t\t\t\t\tlet hours = Math.floor((usedTime % (24 * 3600))/3600);\r\n\t\t\t\t\t\t\tlet minutes = Math.floor(((usedTime % (24 * 3600))%3600)/60);\r\n\t\t\t\t\t\t\tlet miao = usedTime%60;\r\n\t\t\t\t\t\t\t_this.hour = hours\r\n\t\t\t\t\t\t\t_this.minute = minutes\r\n\t\t\t\t\t\t\t_this.second = miao\r\n\t\t\t\t\t\t} else if(data.admin_check === 1 && data.status==0){\r\n\t\t\t\t\t\t\t_this.hour =0\r\n\t\t\t\t\t\t\t_this.minute = 0\r\n\t\t\t\t\t\t\t_this.second = 0\r\n\t\t\t\t\t\t\t_this.timeUp() \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.data = data\r\n\t\t\t\t\t},\"POST\",true\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tsetCoupon(e) {\r\n\t\t\t\tif (e.detail.formId) {\r\n\t\t\t\t\tthis.formId = e.detail.formId\r\n\t\t\t\t}\r\n\t\t\t\tif (this.couponInfo) {\r\n\t\t\t\t\tlet _this = this;\r\n\t\t\t\t\t_this.$api.ajax('smdc/order/set_order_info', {\r\n\t\t\t\t\t\tshop_id: _this.$store.state.shopId,\r\n\t\t\t\t\t\torder_no: _this.data.order_no,\r\n\t\t\t\t\t\ttotal_price: _this.totalMoney2,\r\n\t\t\t\t\t\tcouponid: _this.couponInfo ? _this.couponInfo.id : 0,\r\n\t\t\t\t\t\tcoupon_price: _this.couponInfo ? _this.couponInfo.coupon_price : 0\r\n\t\t\t\t\t}, function(ret) {\r\n\t\t\t\t\t\t_this.pay();\r\n\t\t\t\t\t}, 'POST')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.pay();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpay() {\r\n\t\t\t\tif (this.payTypeList[this.pay_current].id == 1) {\r\n\t\t\t\t\tthis.pay_wx();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$api.toast(\"支付方式异常\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tpay_wx() {\r\n\t\t\t\tlet _this = this;\r\n\r\n\t\t\t\t// #ifdef APP-PLUS \r\n\t\t\t\tlet url = 'smdc/order/apppay'\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tlet url = 'smdc/order/wxpay'\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t_this.$api.ajax(url, {\r\n\t\t\t\t\tout_trade_no: _this.data.order_no,\r\n\t\t\t\t\tshop_id: _this.$store.state.shopId,\r\n\t\t\t\t\tformid: _this.formId,\r\n\t\t\t\t}, function(ret) {\r\n\t\t\t\t\t_this.$api.wxPay(ret.data, '/pages/my-orders/my-orders')\r\n\t\t\t\t}, 'POST')\r\n\t\t\t},\r\n\t\t\tgoMenu() {\r\n\t\t\t\tthis.$store.commit('_setOrderId', {\r\n\t\t\t\t\torderId: this.data.id,\r\n\t\t\t\t\torderNo: this.data.order_no\r\n\t\t\t\t});\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/menu/menu'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseOrder() {\r\n\t\t\t\tthis.$api.tempToast();\r\n\t\t\t},\r\n\t\t\tshowCoupon() {\r\n\t\t\t\tif (this.couponList.length) {\r\n\t\t\t\t\tthis.show_coupon = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thideCoupon() {\r\n\t\t\t\tthis.show_coupon = false;\r\n\t\t\t},\r\n\t\t\tselectCoupon(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.current = e;\r\n\t\t\t},\r\n\t\t\tuseCoupon(isUse) {\r\n\t\t\t\tif (isUse) {\r\n\t\t\t\t\tthis.couponInfo = this.couponList[this.current];\r\n\t\t\t\t\tlet totalMoney2 = parseFloat(this.data.total_fee) - parseFloat(this.couponList[this.current].coupon_price);\r\n\t\t\t\t\tthis.totalMoney2 = parseFloat(totalMoney2).toFixed(2);\r\n\t\t\t\t\t//支付方式变为微信\r\n\t\t\t\t\t// if(this.payTypeList[this.pay_current].id==2){\r\n\t\t\t\t\t// \tthis.pay_current=0;\r\n\t\t\t\t\t// \tthis.$api.toast('优惠券不能和余额支付同时使用','none','2000');\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.couponInfo = '';\r\n\t\t\t\t}\r\n\t\t\t\tthis.hideCoupon();\r\n\t\t\t},\r\n\t\t\tselectPayType(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.pay_current = e.detail.value;\r\n\t\t\t\t// if(this.payTypeList[e.detail.value].id==2){\r\n\t\t\t\t// \tif(this.couponInfo){\r\n\t\t\t\t// \t\tthis.couponInfo='';\t\t\t\t\r\n\t\t\t\t// \t\tthis.$api.toast('优惠券不能和余额支付同时使用','none','2000');\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tgetPrice(sale_price, price, num) {\r\n\t\t\t\tlet res = sale_price == '0.00' ? parseInt(num) * parseFloat(price) : parseInt(num) * parseFloat(sale_price);\r\n\t\t\t\treturn res;\r\n\t\t\t},\r\n\r\n\t\t\t// 评价订单\r\n\t\t\tevalOrder() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/my-orders/evalOrder?id=' + this.orderId\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .bor-bt{\r\n\t\tborder-bottom: 1upx solid #eee;\r\n\t}\r\n\t.return_food {\r\n\t\tpadding: 10upx 15upx;\r\n\t\tborder-radius: 10upx;\r\n\t\tmargin-right: 20upx;\r\n\t}\r\n\r\n\t.nocounp-img {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 30upx;\r\n\t\tcolor: #666666;\r\n\r\n\t\t.img {\r\n\t\t\twidth: 475upx;\r\n\t\t\theight: 351upx;\r\n\t\t\tmargin: 100upx 0 0 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.block {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.tab1 {\r\n\t\twidth: 700upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20upx;\r\n\t\tmargin-top: 37upx;\r\n\t\tpadding: 44upx 0;\r\n\t}\r\n\r\n\t.tab1-1 {\r\n\t\tcolor: #222222;\r\n\t\tfont-size: 34upx;\r\n\t\t/* font-weight: bold; */\r\n\t}\r\n\r\n\t.tab1-1-tip {\r\n\t\tfont-size: 24upx;\r\n\t\tmargin: 5upx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.tab1-1-cancel {\r\n\t\tborder: 1upx solid #EEEEEE;\r\n\t\tpadding: 10upx 17upx;\r\n\t\tfont-size: 24upx;\r\n\t\tmargin-top: 20upx;\r\n\t}\r\n\r\n\t.tab1-2 {\r\n\t\tcolor: #888888;\r\n\t\tfont-size: 24upx;\r\n\t\t/* \tfont-weight: bold; */\r\n\t\tmargin: 30upx 0 32upx 0;\r\n\t}\r\n\r\n\t.tab1-3 {\r\n\t\tcolor: #222222;\r\n\t\tfont-size: 28upx;\r\n\t\tmargin-bottom: 34upx;\r\n\t}\r\n\r\n\t.tab1-4 {\r\n\t\twidth: 129upx;\r\n\t\theight: 41upx;\r\n\t\tcolor: #666666;\r\n\t\tfont-size: 22upx;\r\n\t\tborder: 1px solid #bfbfbf;\r\n\t\tborder-radius: 4upx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 42upx;\r\n\t}\r\n\r\n\t.tab2 {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 30upx;\r\n\t\tmargin: 30upx 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 0 30upx 30upx 30upx;\r\n\t}\r\n\r\n\t.tab2-1 {\r\n\t\theight: 89upx;\r\n\t\tcolor: #222222;\r\n\t\tfont-size: 30upx;\r\n\t\tline-height: 89upx;\r\n\t\tborder-bottom: 1upx solid #eeeeee;\r\n\t}\r\n\r\n\t.tab2-3 {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: baseline;\r\n\t\tmargin-top: 30upx;\r\n\t}\r\n\r\n\t.price1 {\r\n\t\tcolor: #666666;\r\n\t\tfont-size: 24upx;\r\n\t\tmargin-right: 17upx;\r\n\t}\r\n\r\n\t.price2 {\r\n\t\tcolor: #fc5f34;\r\n\t\tfont-size: 32upx;\r\n\t}\r\n\r\n\t/* 订单商品列表 start */\r\n\t.tab2-2 {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tborder-bottom: 1upx solid #eeeeee;\r\n\t\tpadding: 20upx 0;\r\n\t}\r\n\r\n\t.tab2-2-2 {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.tab-2-2-1-img {\r\n\t\tmargin-right: 11upx;\r\n\t}\r\n\r\n\t.tab-2-2-1-img image {\r\n\t\twidth: 29upx;\r\n\t\theight: 29upx;\r\n\t}\r\n\r\n\t.tab-2-2-l {\r\n\t\tcolor: #222222;\r\n\t\tfont-size: 28upx;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.tab-2-2-r {\r\n\t\tdisplay: flex;\r\n\t\tcolor: #444444;\r\n\t\tfont-size: 26upx;\r\n\t}\r\n\r\n\t.tab-2-2-r-img image {\r\n\t\twidth: 14upx;\r\n\t\theight: 22upx;\r\n\t}\r\n\r\n\t.tab-2-2-r-img {\r\n\t\tmargin-left: 17upx;\r\n\t}\r\n\r\n\t.tab2-2-1 {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.tab2-2-1-img image {\r\n\t\twidth: 96upx;\r\n\t\theight: 96upx;\r\n\t\tmargin-right: 17upx;\r\n\t}\r\n\r\n\t.tab2-2-2-1 {\r\n\t\twidth: 534upx;\r\n\t\tcolor: #222222;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.tab2-2-2-1-title1 {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 24upx;\r\n\t}\r\n\r\n\t.tab2-2-2-1-title2 {\r\n\t\tfont-size: 26upx;\r\n\t}\r\n\r\n\t.tab2-2-1-2 {\r\n\t\tcolor: #888888;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 26upx;\r\n\t\tmargin-top: 20upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t/* 订单商品列表 end */\r\n\t.tab3 {\r\n\t\twidth: 704upx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 30upx;\r\n\t\tpadding: 0 30upx;\r\n\t\tfont-size: 26upx;\r\n\t\tcolor: #222222;\r\n\t}\r\n\r\n\t.tab3-1 {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 30upx 0;\r\n\t\t// border-bottom: 1upx solid #eeeeee;\r\n\t}\r\n\r\n\t.tab3-1-1 {\r\n\t\twidth: 22%;\r\n\t\tcolor: #222222;\r\n\t\tfont-size: 30upx;\r\n\t\tfont-weight: bold;\r\n\t\ttext-align-last: justify;\r\n\t\tmargin-right: 6%;\r\n\t}\r\n\r\n\t.tab4 {\r\n\t\twidth: 100%;\r\n\t\theight: 98upx;\r\n\t\tdisplay: flex;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t}\r\n\r\n\t.tab4-1 {\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #fc6840;\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 36upx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 98upx;\r\n\t\tborder-radius: 0;\r\n\t}\r\n\r\n\t.tab4-2 {\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #fdb62e;\r\n\t\tcolor: #222222;\r\n\t\tfont-size: 36upx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 98upx;\r\n\t\tborder-radius: 0;\r\n\t}\r\n\r\n\t.white-block {\r\n\t\theight: 118upx;\r\n\t}\r\n\r\n\t.border-bottom {\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.select-coupon {\r\n\t\tpadding-top: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #222;\r\n\r\n\t\t.left {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.icon {\r\n\t\t\t\twidth: 40upx;\r\n\t\t\t\theight: 40upx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.mar-20 {\r\n\t\tmargin-bottom: 20upx;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-details.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-details.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591345594136\n      var cssReload = require(\"D:/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}