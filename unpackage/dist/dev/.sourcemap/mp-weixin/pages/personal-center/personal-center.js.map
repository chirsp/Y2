{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/personal-center/personal-center.vue?1ea0","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/personal-center/personal-center.vue?6e98","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/personal-center/personal-center.vue?707e","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/personal-center/personal-center.vue?99d7","uni-app:///pages/personal-center/personal-center.vue","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/personal-center/personal-center.vue?4a98","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/pages/personal-center/personal-center.vue?eac4"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yH;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;AACc;;;AAG5E;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAssB,CAAgB,sqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;ACa1tB,+C;AACA;AACA;AACA,oBADA,EACA,sBADA,EACA,YADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,kBADA;AAEA,kBAFA;AAGA;AACA,oBADA;AAEA,kBAFA;AAGA,oBAHA;AAIA,kBAJA;AAKA,mBALA,EAHA;;AAUA,iBAVA;AAWA,qBAXA;AAYA,oBAZA;;;AAeA,GApBA;AAqBA,qFArBA;AAsBA,QAtBA,kBAsBA,MAtBA,EAsBA;AACA;AACA;AACA;;AAEA,GA3BA;AA4BA,mBA5BA,+BA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GArCA;AAsCA,SAtCA,qBAsCA;AACA;AACA;AACA,4BADA;;AAGA;AACA,KALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GArDA;AAsDA;AACA,6DADA;;AAGA,gBAHA,wBAGA,CAHA,EAGA;AACA;AACA,KALA;;AAOA;AACA,aARA,uBAQA;AACA;AACA;AACA,yCADA;AAEA;AACA;AACA,OAJA;AAKA,KAfA;;AAiBA;AACA,eAlBA,yBAkBA;AACA;AACA;AACA,yCADA;AAEA;AACA;AACA,OAJA;AAKA,KAzBA;;AA2BA;AACA,iBA5BA,2BA4BA;AACA;AACA;AACA,yCADA;AAEA;AACA;AACA,OAJA;AAKA,KAnCA;;AAqCA;AACA,eAtCA,yBAsCA;AACA;AACA;AACA,yCADA;AAEA,iBAFA;AAGA;AACA;AACA,OALA;AAMA,KA9CA;;AAgDA;AACA,iBAjDA,2BAiDA;AACA;AACA;AACA;AACA;AACA,yCADA;AAEA,gCAFA;AAGA;AACA;AACA,OALA,EAKA,MALA;AAMA,KA3DA;;AA6DA,YA7DA,sBA6DA;AACA;AACA;AACA,kBADA;AAEA,yCAFA;AAGA;AACA;AACA,OALA;AAMA,KArEA;;AAuEA;AACA,eAxEA,yBAwEA;AACA;AACA;AACA,yCADA;AAEA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA;;AAEA;;;;;;AAMA,WARA,EAQA,IARA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA5BA;AA6BA,KAvGA,GAtDA,E;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAmxC,CAAgB,opCAAG,EAAC,C;;;;;;;;;;;ACAvyC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/personal-center/personal-center.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/personal-center/personal-center.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./personal-center.vue?vue&type=template&id=3c9b7d73&\"\nvar renderjs\nimport script from \"./personal-center.vue?vue&type=script&lang=js&\"\nexport * from \"./personal-center.vue?vue&type=script&lang=js&\"\nimport style0 from \"./personal-center.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Backup/桌面/历史项目/scanCode0531/scanCode/pages/personal-center/personal-center.vue\"\nexport default component.exports","export * from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personal-center.vue?vue&type=template&id=3c9b7d73&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personal-center.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personal-center.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page\">\n\t\t<usercenter :userInfo='userInfo' :is_open_coupon=\"_config.is_open_coupon\" v-if=\"worker==0\" @centerChange='centerChange' @getUserInfo='getUserInfo'></usercenter>\n\t\t<woker v-if=\"worker==1\" :userInfo='userWorker' :tablist='tablist' :work_status='work_status' @centerChange='centerChange'  @getUserInfo='getUserInfo'></woker>\n\t\t<view style=\"height: 110rpx;\"></view>\n\t\t<x-footer></x-footer>\n\t</view>\n</template>\n\n<script>\n\timport xFooter from '../../components/footer.vue';\n\timport usercenter from '../../components/usercenter.vue';\n\timport woker from '../../components/workuserceter.vue';\n\timport {mapState, mapMutations} from 'vuex';\n\texport default {\n\t\tcomponents: {\n\t\t\txFooter,usercenter,woker\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserInfo:\"\",\n\t\t\t\tworker:null,\n\t\t\t\tflagNum:{\n\t\t\t\t\tnoticeNum:0,\n\t\t\t\t\tsendNum:0,\n\t\t\t\t\trefundNum:0,\n\t\t\t\t\tmakeNum:0,\n\t\t\t\t\tclearNum:0\n\t\t\t\t},\n\t\t\t\ttablist:[],\n\t\t\t\twork_status:\"\",\n\t\t\t\tuserWorker:{}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tcomputed:mapState(['uid','hasLogin','_phone','needScan','_config']),\n\t\tonLoad(option) {\n\t\t\tif(option.worker){\n\t\t\t\tthis.worker= option.worker\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tthis.worker = null;\n\t\t\tthis.getUserInfo() ;\n\t\t\t// this.getnotice() \n\t\t\t// this.getwaitSend() \n\t\t\t// this.getrefundSend()\n\t\t\tthis.getTable();\n\t\t\t// this.getrefundmake()\n\t\t\t// this.getclearNum()\n\t\t},\n\t\tcreated() {\n\t\t\tif(this.needScan){\n\t\t\t\tuni.redirectTo({\n\t\t\t\t\turl:'../index/scan'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}else{\n\t\t\t\tthis.getUserInfo()\n\t\t\t\tthis.getTable()\n\t\t\t\t// this.getnotice() //获取消息通知数目\n\t\t\t\t// this.getwaitSend() //获取代配送数目\n\t\t\t\t// this.getrefundSend() //获取退菜数目\n\t\t\t\t// this.getrefundmake() //获取制作数目\n\t\t\t\t// this.getclearNum() //获取需要清洁餐桌的数目\n\t\t\t}\n\t\t},\n\t\tmethods: {\n          ...mapMutations(['_setUserInfo','changeNeedScan']),\n\t\t  \n\t\t  centerChange(e){\n\t\t\t  this.worker = e\n\t\t  },  \n\t\t  \n\t\t  // 获取消息列表\n\t\t  getnotice() {\n\t\t  \tvar that = this\n\t\t  \tthis.$api.ajax('smdc/message/messageCount', {\n\t\t  \t\tshop_id: that.$store.state.shopId\n\t\t  \t}, res => {\n\t\t  \t\tthat.flagNum.noticeNum = res.data\n\t\t  \t})\n\t\t  },\n\t\t  \n\t\t  // 获取带配送数据角标值\n\t\t  getwaitSend() {\n\t\t  \tvar that = this\n\t\t  \tthis.$api.ajax('smdc/Sale_Food/saleFoodCount', {\n\t\t  \t\tshop_id: that.$store.state.shopId\n\t\t  \t}, res => {\n\t\t  \t\tthat.flagNum.sendNum = res.data\n\t\t  \t})\n\t\t  },\n\t\t  \n\t\t  // 获取退菜角标数目\n\t\t  getrefundSend() {\n\t\t  \tvar that = this\n\t\t  \tthis.$api.ajax('smdc/order_refund/count', {\n\t\t  \t\tshop_id: that.$store.state.shopId\n\t\t  \t}, res => {\n\t\t  \t\tthat.flagNum.refundNum = res.data\n\t\t  \t})\n\t\t  },\n\t\t  \n\t\t  // 获取需要清理桌子的数目\n\t\t  getclearNum(){\n\t\t\t  var that = this\n\t\t\t  this.$api.ajax('smdc/desk/deskCount', {\n\t\t\t  \tshop_id: that.$store.state.shopId,\n\t\t\t\tstatus: 2\n\t\t\t  }, res => {\n\t\t\t  \tthat.flagNum.clearNum = res.data\n\t\t\t  })\n\t\t  },\n\t\t  \n\t\t  // 获取制作菜品数量数目\n\t\t  getrefundmake(){\n\t\t\t var that = this;\n\t\t\t let process = uni.getStorageSync('kejia_order_userInfo').worker?uni.getStorageSync('kejia_order_userInfo').worker.process:[];\n\t\t\t var make_status = process.join(',');\n\t\t\t this.$api.ajax('smdc/order/cookerCount', {\n\t\t\t \tshop_id: that.$store.state.shopId,\n\t\t\t\tmake_status:make_status\n\t\t\t }, res => {\n\t\t\t \tthat.flagNum.makeNum = res.data;\n\t\t\t },\"POST\") \n\t\t  },\n\t\t  \n\t\t  getTable() {\n\t\t  \tvar that = this\n\t\t  \tthis.$api.ajax('smdc/desk/getDeskList', {\n\t\t  \t\tstatus: -1,\n\t\t  \t\tshop_id: that.$store.state.shopId\n\t\t  \t}, res => {\n\t\t  \t\tthat.tablist = res.data\n\t\t  \t})\n\t\t  },\n\t\t  \n\t\t\t// 获取用户信息\n\t\t\tgetUserInfo(){\r\n\t\t\t\tconsole.log(this.$store.state.shopId)\n\t\t\t\tthis.$api.ajax('smdc/user/userinfo',{\n\t\t\t\t\tshop_id:this.$store.state.shopId\n\t\t\t\t},res=>{\r\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t\t\t},1500);\n\t\t\t\t\tif(!res.data.id){\n\t\t\t\t\t\tvar _this = this\n\t\t\t\t\t\tthis.$api.toast(\"登录过期，请重新登录\")\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\n                            _this.$api.openWin(\"/pages/login/login\")\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\t// #ifndef MP-WEIXIN\n\t\t\t\t\t\t\t_this.$api.openWin(\"/pages/login/login1\")\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t\treturn\n\t\t\t\t\t};\n\t\t\t\t\tthis.userInfo = res.data;\n\t\t\t\t\tthis.worker = res.data.type;\r\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tthis.userWorker = res.data.worker;\n\t\t\t\t\tthis.work_status = res.data.worker.work_status;\n\t\t\t\t\tthis._setUserInfo(res.data);\n\t\t\t\t\tthis.$api.setStorage(\"kejia_order_userInfo\",res.data);\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t\t\n\t}\n</script>\n\n<style lang=\"scss\">\npage{\n\tbackground-color: #f7f7f7;\n}\n</style>\n","import mod from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personal-center.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./personal-center.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591345593924\n      var cssReload = require(\"D:/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}