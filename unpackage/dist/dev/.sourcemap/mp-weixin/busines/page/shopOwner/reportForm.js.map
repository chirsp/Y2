{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/busines/page/shopOwner/reportForm.vue?6608","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/busines/page/shopOwner/reportForm.vue?1987","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/busines/page/shopOwner/reportForm.vue?bd00","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/busines/page/shopOwner/reportForm.vue?1442","uni-app:///busines/page/shopOwner/reportForm.vue","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/busines/page/shopOwner/reportForm.vue?94e7","webpack:///D:/Backup/桌面/历史项目/scanCode0531/scanCode/busines/page/shopOwner/reportForm.vue?e79d"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kH;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AACwL;AACxL,gBAAgB,sLAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgtB,CAAgB,iqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoFpuB,6G;AACA;AACA,wB,CAAA;eACA;AACA,4DADA;AAEA,MAFA,kBAEA;AACA;AACA,sCADA;AAEA,eAFA;AAGA,iBAHA,EAGA;AACA,oBAJA;AAKA,cALA;AAMA,gBANA;AAOA,mBAPA;;AASA,gBATA;AAUA,iBAVA;AAWA,mBAXA;AAYA,qBAZA,EAYA;AACA,gBAbA;AAcA,oBAdA,EAcA;AACA,kBAfA;AAgBA,oBAhBA;;AAkBA,GArBA;;AAuBA,QAvBA,oBAuBA;AACA;AACA;AACA;AACA,uBAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA,EAEA,GAFA;;;;;;;;;;;;;AAeA,GA9CA;AA+CA;AACA;AACA,cAFA,sBAEA,IAFA,EAEA,KAFA,EAEA;AACA,0BADA,CACA;AACA,8BAFA,CAEA;AACA;AACA,wBADA,CACA;AACA,mBAFA,CAEA;AACA;AACA,sDAPA,CAOA;AACA,0EARA,CAQA;AACA,KAXA;;AAaA;AACA,cAdA,sBAcA,KAdA,EAcA,IAdA,EAcA,CAdA,EAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApCA;;AAsCA;AACA,cAvCA,sBAuCA,KAvCA,EAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAxDA;;;AA2DA;AACA,gBA5DA,0BA4DA;AACA;AACA;AACA;AACA;AACA,4CALA,CAKA;AACA;AACA,2CADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1FA;;AA4FA;AACA,eA7FA,yBA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlHA;;;;AAsHA;AACA,iBAvHA,yBAuHA,KAvHA,EAuHA,GAvHA,EAuHA;AACA;AACA,sBADA;;AAGA;AACA;AACA;;AAEA;AACA,0CADA;AAEA,0BAFA;AAGA,gCAHA;AAIA,4BAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,mCAFA,EADA;;;AAMA;;AAEA;AACA;AACA;;;AAGA,OA/BA;AAgCA,KA/JA;AAgKA;AACA,aAjKA,qBAiKA,QAjKA,EAiKA,SAjKA,EAiKA;AACA;AACA;AACA;AACA,oBADA;AAEA,0BAFA;AAGA,oBAHA;AAIA,4DAJA;AAKA,oBALA;AAMA,gCANA;AAOA;AACA,oBADA;AAEA,oBAFA;AAGA,wBAHA;AAIA,mBAJA,EAPA;;AAaA,wBAbA;AAcA,4BAdA;AAeA,6BAfA;AAgBA,oCAhBA;AAiBA,wCAjBA;AAkBA,gCAlBA;AAmBA,uBAnBA;AAoBA;AACA,sBADA;AAEA,8BAFA;AAGA,0BAHA;AAIA;AACA;AALA,SApBA;AA2BA;AACA,0BADA;AAEA,8BAFA;AAGA,uBAHA,EA3BA;;AAgCA,8CAhCA;AAiCA,gDAjCA;AAkCA;AACA;AACA,4BADA,EADA,EAlCA;;;;;AAyCA,KA7MA;AA8MA,cA9MA,sBA8MA,CA9MA,EA8MA;AACA;AACA,KAhNA;AAiNA,aAjNA,qBAiNA,CAjNA,EAiNA;AACA;AACA;AACA,mDAHA,CAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KAnOA;AAoOA,iBApOA,yBAoOA,CApOA,EAoOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KAlPA;AAmPA,cAnPA,wBAmPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAHA,CAGA;AACA,qCAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtQA,EA/CA,E;;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAA+yC,CAAgB,qpCAAG,EAAC,C;;;;;;;;;;;ACAn0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"busines/page/shopOwner/reportForm.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './busines/page/shopOwner/reportForm.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./reportForm.vue?vue&type=template&id=cf722652&\"\nvar renderjs\nimport script from \"./reportForm.vue?vue&type=script&lang=js&\"\nexport * from \"./reportForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reportForm.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Backup/桌面/历史项目/scanCode0531/scanCode/busines/page/shopOwner/reportForm.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportForm.vue?vue&type=template&id=cf722652&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportForm.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<view class=\"top\">\r\n\t\t\t<view class=\"mBg topbanner\">\r\n\t\t\t\t<view class=\"flex_row topSelect\">\r\n\t\t\t\t\t<text v-for=\"(item,index) in dimension\" :key=\"index\" class=\"item\"\r\n\t\t\t\t\t :class=\"dIndex==index?'mB33 _cff':index?'bor-left':''\" \r\n\t\t\t\t\t @click=\"selectType(index)\">{{item}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t    \r\n\t\t\t<scroll-view scroll-x class=\"bg-white nav\" scroll-with-animation :scroll-left=\"scrollLeft\" v-if=\"dIndex>1\">\r\n\t\t\t\t<view class=\"flex text-center\" style=\"width: 100% ;\">\r\n\t\t\t\t\t<view class=\"cu-item flex-sub timenav\" :class=\"index==TabCur?'text-orange cur _f32':'noselect'\" v-for=\"(item,index) in Time\"\r\n\t\t\t\t\t :key=\"index\" @click=\"timeSelect(index,item.year,item.month)\" >\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view :style=\"dIndex>1?'height:100px':'height:50px'\" :class=\"dIndex?'':'mBg'\"></view>\r\n\t\t \r\n\t\t<!-- 今日订单/营业额统计 -->\r\n\t\t<block v-if=\"dIndex==0\">\r\n\t\t\t<view class=\"todayALl flex_row flex_sa mBg\">\r\n\t\t\t\t<view class=\"flex_col box\">\r\n\t\t\t\t\t<text class=\"title\">营业额(元)</text>\r\n\t\t\t\t\t<text class=\"_cff num\">{{turnover || '0.00'}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex_col border box\">\r\n\t\t\t\t\t<text  class=\"title\">订单数</text>\r\n\t\t\t\t\t<text class=\"_cff num\">{{today_order || '0'}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex_center\">\r\n\t\t\t\t<image src=\"../../static/image/noAllImg.png\" class=\"noallImg\"></image>\r\n\t\t\t\t<text class=\"_c66 _f26\">数据统计在今日零点后生成</text>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t\r\n\t\t<!-- 报表统计模块 -->\r\n\t\t<block v-else>\r\n\t\t\t<view class=\"flex_col total-num _c99 _f30\">\r\n\t\t\t\t<text>营业额(元):{{toatal.money || '0.00'}}</text>\r\n\t\t\t\t<!-- <text>订单总数(单):{{today_order || '0'}}</text> -->\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 折线图 -->\r\n\t\t\t<view class=\"qiun-charts\">\r\n\t\t\t\t<!--#ifdef MP-ALIPAY -->\r\n\t\t\t\t<canvas canvas-id=\"canvasLineA\" id=\"canvasLineA\" class=\"charts\" :width=\"cWidth*pixelRatio\" :height=\"cHeight*pixelRatio\" :style=\"{'width':cWidth+'px','height':cHeight+'px'}\" @touchstart=\"touchLineA\" @touchmove=\"moveLineA\" @touchend=\"touchEndLineA\"></canvas>\r\n\t\t\t\t<!--#endif-->\r\n\t\t\t\t<!--#ifndef MP-ALIPAY -->\r\n\t\t\t\t<canvas canvas-id=\"canvasLineA\" id=\"canvasLineA\" class=\"charts\" @touchstart=\"touchLineA\" @touchmove=\"moveLineA\" @touchend=\"touchEndLineA\"></canvas>\r\n\t\t\t\t<!--#endif-->\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<!-- 菜品销量 -->\r\n\t\t\t<view class=\"dishTotal flex_col\">\r\n\t\t\t\t<text class=\"title _c99 _f30\">菜品销量</text>\r\n\t\t\t\t<nodata msg=\"暂无菜品销量统计数据~\"  v-if=\"food_count.length==0\"></nodata>\r\n\t\t\t\t<view class=\"title flex_col\" v-for=\"(item,index) in food_count\" :key='index' v-if=\"food_count.length\">\r\n\t\t\t\t\t<view class=\"flex_sb flex_row\">\r\n\t\t\t\t\t\t<text class=\"_fw _c33\">{{item.name}}</text>\r\n\t\t\t\t\t\t<text class=\"_c66 _fw\">￥{{item.money}}/{{item.num}}份</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<dishprogress :loading=\"loading\" :num='item.percent_money'></dishprogress>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\r\n\t     \r\n\t\t\r\n\t</view>\n</template>\n\n<script>\r\n\timport dishprogress from '../../components/progress.vue'\r\n\timport nodata from '../../../components/nodata.vue'\r\n\timport uCharts from '../../components/u-charts/u-charts.js';\r\n\tvar canvaLineA=null;\r\n\tvar lastMoveTime=null;//最后执行移动的时间戳 \r\n\texport default{\r\n\t\tcomponents:{dishprogress,nodata},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tdimension:['今日','周','月','年'],\r\n\t\t\t\tdIndex:0,\r\n\t\t\t\tweekArr:[] ,//周数组\r\n\t\t\t\tloading:false,\r\n\t\t\t\tTime:[],\r\n\t\t\t\tTabCur:'',\r\n\t\t\t\tscrollLeft:0,\r\n\t\t\t\t\r\n\t\t\t\tcWidth:'',\r\n\t\t\t\tcHeight:'',\r\n\t\t\t\tpixelRatio:1,\r\n\t\t\t\tInteractive:'',//交互显示的数据\r\n\t\t\t\ttoatal: '',\r\n\t\t\t\tfood_count:'', //菜品销量\r\n\t\t\t\tturnover:'' ,\r\n\t\t\t\ttoday_order:0\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad() {\r\n\t\t\tlet _self = this\r\n\t\t\t_self.TabCur = _self.Time.length - 1\r\n\t\t\t_self.scrollLeft = (_self.TabCur - 1) * 60\r\n\t\t\t_self.getTimeNow()  //获取周时间\r\n\t\t\t // _self.getServerData();\r\n\t\t\t _self.cWidth=uni.upx2px(750);\r\n\t\t\t _self.cHeight=uni.upx2px(500);\r\n\t\t\t setTimeout(function() {\r\n\t\t\t \t_self.loading = true\r\n\t\t\t }, 500)\r\n\t\t\t//#ifdef MP-ALIPAY\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\tif(res.pixelRatio>1){\r\n\t\t\t\t\t\t//正常这里给2就行，如果pixelRatio=3性能会降低一点\r\n\t\t\t\t\t\t//_self.pixelRatio =res.pixelRatio;\r\n\t\t\t\t\t\t_self.pixelRatio =2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//#endif\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 获取当月最后一天的日期\r\n\t\t\t getLastDay(year,month) {\r\n\t\t\t        var new_year = year;    //取当前的年份\r\n\t\t\t        var new_month = month++;//取下一个月的第一天，方便计算（最后一天不固定）\r\n\t\t\t        if(month>12) {\r\n\t\t\t            new_month -=12;        //月份减\r\n\t\t\t            new_year++;            //年份增\r\n\t\t\t        }\r\n\t\t\t        var new_date = new Date(new_year,new_month,1);                //取当年当月中的第一天\r\n\t\t\t        return (new Date(new_date.getTime()-1000*60*60*24)).getDate();//获取当月最后一天日期\r\n\t\t\t    },\r\n\t\t\t\r\n\t\t\t// 时间选择\r\n\t\t\ttimeSelect(index,year,m){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet day =  that.getLastDay(year,m)\r\n\t\t\t\tthat.TabCur =  index\r\n\t\t\t\tthat.scrollLeft = (index- 1) * 60\r\n\t\t\t\tif(that.dIndex==1){\r\n\t\t\t\t   // day = day>30? day : \r\n\t\t\t\t\tthat.weekArr =[]\r\n\t\t\t\t\tfor (let i = 1; i < 30 ; i++) {\r\n\t\t\t\t\t\tif(i%5==0 && i<26){\r\n\t\t\t\t\t\t\tthat.weekArr.push(i)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.weekArr.push(day)\r\n\t\t\t\t}\r\n\t\t\t\tif(that.dIndex==2){\r\n\t\t\t\t\tthat.weekArr =[]\r\n\t\t\t\t\tfor (let i = 1; i < 13; i++) {\r\n\t\t\t\t\t\tthat.weekArr.push(i+'月')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.getServerData(this.Time[index].start,this.Time[index].end)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 选择维度\r\n\t\t\tselectType(index){\r\n\t\t\t\tthis.dIndex = index\r\n\t\t\t\tif(this.dIndex==0){\r\n\t\t\t\t\tthis.today_order = 0\r\n\t\t\t\t\tthis.turnover = 0\r\n\t\t\t\t\tthis.getServerData()\r\n\t\t\t\t}\r\n\t\t\t\tif(this.dIndex==1){\r\n\t\t\t\t\tthis.getTimeNow()\r\n\t\t\t\t}\r\n\t\t\t\tif(this.dIndex==2){\r\n\t\t\t\t\tthis.getMontharea()\r\n\t\t\t\t}\r\n\t\t\t\tif(this.dIndex==3){\r\n\t\t\t\t\tthis.getYeararea()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\r\n\t\t\t\r\n\t\t\t// 获取当前月度统计时间段\r\n\t\t\tgetMontharea(){\r\n\t\t\t\t    var that = this\r\n\t\t\t\t    that.Time  = [];\r\n\t\t\t\t    var data = new Date();\r\n\t\t\t\t    var year = data.getFullYear();\r\n\t\t\t\t    data.setMonth(data.getMonth()+1, 1)//获取到当前月份,设置月份\r\n\t\t\t\t    for (var i = 0; i < 12; i++) {\r\n\t\t\t\t        data.setMonth(data.getMonth() - 1);//每次循环一次 月份值减1\r\n\t\t\t\t        var m = data.getMonth() + 1;\r\n\t\t\t\t        m = m < 10 ? \"0\" + m : m;\r\n\t\t\t\t\t\tlet obj ={}\r\n\t\t\t\t\t\tif(m==1){\r\n\t\t\t\t\t\t\tyear--\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobj['name'] = year + \"/\" + m \r\n\t\t\t\t\t\tobj['start'] = year +'/' + m + '/1' +' ' +'00:00:00'\r\n\t\t\t\t\t\tobj['end'] = year +'/' + m +'/' + that.getLastDay(year,m) +' ' +'00:00:00'\r\n\t\t\t\t\t\tobj['month'] = m\r\n\t\t\t\t\t\tobj['year'] = year\r\n\t\t\t\t\t\tthat.Time.unshift(obj)\r\n\t\t\t\t    }\r\n\t\t\t\t\tthat.TabCur = that.Time.length - 1\r\n\t\t\t\t\tthat.scrollLeft = (that.TabCur - 1) * 60\r\n\t\t\t\t\tthat.weekArr =[]\r\n\t\t\t\t\tfor (let i = 1; i < that.getLastDay(year,m)+1 ; i++) {\r\n\t\t\t\t\t\tif(i%5==0){\r\n\t\t\t\t\t\t\tthat.weekArr.push(i)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t    that.getServerData(that.Time[11].start,that.Time[11].end)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取当前年度统计时间段\r\n\t\t\tgetYeararea(){\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar date=new Date;\r\n\t\t\t\tvar y = date.getFullYear()\r\n\t\t\t\tthat.Time = []\r\n\t\t\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\t\t  let obj = {}\r\n\t\t\t\t  obj['name'] = y +'年'\r\n\t\t\t\t  obj['start'] = y+'/' + '1/1' + ' ' +'00:00:00'\r\n\t\t\t\t  obj['end'] = y+'/' + '12/' + that.getLastDay(y,12) + ' ' +'00:00:00'\r\n\t\t\t\t  obj['year'] = y\r\n\t\t\t\t  y = y -1\r\n\t\t\t\t  that.Time.unshift(obj)\r\n\t\t\t\t}\r\n\t\t\t\tthat.TabCur = that.Time.length - 1           \r\n\t\t\t\tthat.scrollLeft = (that.TabCur - 1) * 120\r\n\t\t\t\tthat.weekArr =[]\r\n\t\t\t\tfor (let i = 1; i < 13; i++) {\r\n\t\t\t\t\tthat.weekArr.push(i+'月')\r\n\t\t\t\t}\r\n\t\t\t\tthat.getServerData(that.Time[2].start,that.Time[2].end)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 获取折线图数据\r\n\t\t\tgetServerData(start,end){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中..'\r\n\t\t\t\t})\r\n\t\t\t\tlet _self = this\r\n\t\t\t\tstart =  new Date(start).getTime()\r\n\t\t\t\tend =  new Date(end).getTime()\r\n\t\t\t\t\r\n\t\t\t    _self.$api.ajax('smdc/Shop_count/count', {\r\n\t\t\t  \tshop_id: _self.$store.state.shopId,\r\n\t\t\t\ttype:_self.dIndex,\r\n\t\t\t\tstart_time:start / 1000,\r\n\t\t\t\tend_time:end / 1000, \r\n\t\t\t  }, res => {\r\n\t\t\t\t       let LineA={categories:[],series:[]};\r\n\t\t\t\t  \t\t//这里我后台返回的是数组，所以用等于，如果您后台返回的是单条数据，需要push进去\r\n\t\t\t\t\t\t// 总的人员数和营业额\r\n\t\t\t\t\t\t_self.toatal= res.data.turnover_total || 0\r\n\t\t\t\t\t\t_self.worker_num= res.data.worker_num || 0\r\n\t\t\t\t\t\t_self.food_count= res.data.food_count || 0\r\n\t\t\t\t\t\t_self.turnover = res.data.turnover  || 0\r\n\t\t\t\t\t\t_self.today_order = res.data.today_order || 0\r\n\t\t\t\t\t\t// 周维度的统计\r\n\t\t\t\t\t\tLineA.categories=_self.weekArr;\r\n\t\t\t\t\t\tif( res.data.turnover ){\r\n\t\t\t\t\t\t\t_self.turnover = res.data.turnover\r\n\t\t\t\t\t\t\tlet series =[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"营业额(元)\",\r\n\t\t\t\t\t\t\t\tdata: res.data.turnover\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\tLineA.series = series;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//第二根线为虚线的设置\r\n\t\t\t\t\t\t\t_self.showLineA(\"canvasLineA\",LineA);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t    \r\n\t\t\t  })\r\n\t\t\t\t\t\t},\r\n\t// 准备绘制图形\r\n\t    showLineA(canvasId,chartData){\r\n\t\t\tuni.hideLoading()\r\n\t    \tvar _self = this\r\n\t    \tcanvaLineA=new uCharts({\r\n\t    \t\t$this:_self,\r\n\t    \t\tcanvasId: canvasId,\r\n\t    \t\ttype: 'line',\r\n\t                    \tcolors:['#facc14', '#90ed7d', '#8543e0', '#90ed7d'],\r\n\t    \t\tfontSize:11,\r\n\t    \t\tpadding:[15,15,0,15],\r\n\t    \t\tlegend:{\r\n\t    \t\t\tshow:true,\r\n\t    \t\t\tpadding:5,\r\n\t    \t\t\tlineHeight:11,\r\n\t    \t\t\tmargin:0,\r\n\t    \t\t},\r\n\t    \t\tdataLabel:false,\r\n\t    \t\tdataPointShape:true,\r\n\t    \t\tbackground:'#FFFFFF',\r\n\t    \t\tpixelRatio:_self.pixelRatio,\r\n\t    \t\tcategories: chartData.categories,\r\n\t    \t\tseries: chartData.series,\r\n\t    \t\tanimation: true,\r\n\t    \t\txAxis: {\r\n\t    \t\t\ttype:'grid',\r\n\t    \t\t\tgridColor:'#CCCCCC',\r\n\t    \t\t\tgridType:'dash',\r\n\t    \t\t\tdashLength:8,\r\n\t    \t\t\t//disableGrid:true\r\n\t    \t\t},\r\n\t    \t\tyAxis: {\r\n\t    \t\t\tgridType:'dash',\r\n\t    \t\t\tgridColor:'#CCCCCC',\r\n\t    \t\t\tdashLength:8,\r\n\t    \t\t},\r\n\t    \t\twidth: _self.cWidth*_self.pixelRatio,\r\n\t    \t\theight: _self.cHeight*_self.pixelRatio,\r\n\t    \t\textra: {\r\n\t    \t\t\tline:{\r\n\t    \t\t\t\ttype: 'straight'\r\n\t    \t\t\t}\r\n\t    \t\t}\r\n\t    \t});\r\n\t    \t\r\n\t    },\r\n\t    touchLineA(e) {\r\n\t    \tlastMoveTime=Date.now();\r\n\t    },\r\n\t    moveLineA(e){\r\n\t    \tlet currMoveTime = Date.now();\r\n\t    \tlet duration = currMoveTime - lastMoveTime;\r\n\t    \tif (duration < Math.floor(1000 / 60)) return;//每秒60帧\r\n\t    \tlastMoveTime = currMoveTime;\r\n\t    \t\r\n\t    \tlet currIndex=canvaLineA.getCurrentDataIndex(e);\r\n\t    \tif(currIndex>-1&&currIndex<canvaLineA.opts.categories.length){\r\n\t    \t\tlet riqi=canvaLineA.opts.categories[currIndex];\r\n\t    \t\tlet leibie=canvaLineA.opts.series[0].name;\r\n\t    \t\tlet shuju=canvaLineA.opts.series[0].data[currIndex];\r\n\t    \t\tthis.Interactive=leibie+':'+riqi+'-'+shuju+'元';\r\n\t    \t}\r\n\t    \tcanvaLineA.showToolTip(e, {\r\n\t    \t\tformat: function (item, category) {\r\n\t    \t\t\treturn category + ' ' + item.name + ':' + item.data \r\n\t    \t\t}\r\n\t    \t});\r\n\t    },\r\n\t    touchEndLineA(e){\r\n\t    \tlet currIndex=canvaLineA.getCurrentDataIndex(e);\r\n\t    \tif(currIndex>-1&&currIndex<canvaLineA.opts.categories.length){\r\n\t    \t\tlet riqi=canvaLineA.opts.categories[currIndex];\r\n\t    \t\tlet leibie=canvaLineA.opts.series[0].name;\r\n\t    \t\tlet shuju=canvaLineA.opts.series[0].data[currIndex];\r\n\t    \t\tthis.Interactive=leibie+':'+riqi+'-'+shuju+'元';\r\n\t    \t}\r\n\t    \tcanvaLineA.touchLegend(e);\r\n\t    \tcanvaLineA.showToolTip(e, {\r\n\t    \t\tformat: function (item, category) {\r\n\t    \t\t\treturn category + ' ' + item.name + ':' + item.data \r\n\t    \t\t}\r\n\t    \t});\r\n\t    },\r\n\t\t\tgetTimeNow(){\r\n\t\t\t\tvar now = new Date();  \r\n\t\t\t\tvar nowTime = now.getTime();  \r\n\t\t\t\tvar day = now.getDay();\r\n\t\t\t\tvar year = now.getFullYear()\r\n\t\t\t\tvar oneDayLong = 24 * 60 * 60 * 1000;  \r\n\t\t     \t//计算上一周  \r\n\t\t\t\tthis.weekArr =[]\r\n\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\tvar SundayTime = nowTime -(i+1) * oneDayLong;  \r\n\t\t\t\t\tvar SundayTime = new Date(SundayTime);\r\n\t\t\t\t\tvar m = SundayTime.getMonth() + 1;//月  \r\n\t\t\t\t\tvar d = SundayTime.getDate();//日  \r\n\t\t\t\t\tvar obj =m+\"/\"+d; \r\n\t\t\t\t\tthis.weekArr.unshift(obj)\r\n\t\t\t\t}\r\n\t\t\t\tlet start = year +'/'+ this.weekArr[0] + ' ' +'00:00:00'\r\n\t\t\t\tlet end =year +'/'+ this.weekArr[6] + ' ' +'23:59:59'\r\n\t\t\t\tthis.getServerData(start,end)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\n</script>\n\n<style lang=\"less\">\r\n\tpage{\r\n\t\tbackground-color:#FFFFFF\r\n\t}\r\n\t.timenav{\r\n\t\twidth: 200rpx;\r\n\t}\r\n\t.todayALl{\r\n\t\tpadding:40upx 30upx 50upx 30upx;\r\n\t\t.title{\r\n\t\t\tmargin-bottom: 15;\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tcolor: #EEEEEE;\r\n\t\t}\r\n\t\t.num{\r\n\t\t\tfont-size: 62upx;\r\n\t\t}\r\n\t\t.right{\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\t\t.border{\r\n\t\t\tborder-left: 1upx dashed #FFFFFF;\r\n\t\t}\r\n\t\t.box{\r\n\t\t\twidth: 50%;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t}\r\n\t.noallImg{\r\n\t\twidth: 500upx;\r\n\t\theight: 350upx;\r\n\t\tmargin: 150upx 0 20upx 0;\r\n\t}\r\n\t.dishTotal{\r\n\t\tpadding: 45upx 30upx;\r\n\t\t.title{\r\n\t\t\tmargin-bottom: 25upx;\r\n\t\t}\r\n\t\t.item-name{\r\n\t\t\tmargin-bottom: 20upx;\r\n\t\t}\r\n\t\t\r\n\t}\r\n/*样式的width和height一定要与定义的cWidth和cHeight相对应*/\r\n\t.qiun-charts {\r\n\t\twidth: 750upx;\r\n\t\theight: 500upx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-bottom: 20upx solid #EEEEEE;\r\n\t}\r\n\t\r\n\t.charts {\r\n\t\twidth: 750upx;\r\n\t\theight: 500upx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n.total-num{\r\n\tmargin: 38upx;\r\n}\r\n.total-num text{\r\n\tmargin-bottom: 20upx;\r\n}\r\n.space{\r\n\theight: 200upx;\r\n}\r\n.top{\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\t.topbanner{\r\n\t\tpadding: 20upx 0;\r\n\t}\r\n\t.nav{\r\n\t\tbox-shadow:0upx 8upx 15upx rgba(114,124,142,0.06);\r\n\t\topacity:1;\r\n\t}\r\n\t.topSelect{\r\n\t\t// border-radius:10upx;\r\n\t\tborder: 1upx solid #333333;\r\n\t\twidth: 600upx;\r\n\t\tmargin: auto;\r\n\t}\r\n\t.mB33{\r\n\t\tbackground-color: #333333;\r\n\t}\r\n\t.item{\r\n\t\twidth:200upx;\r\n\t\tpadding: 13upx 0;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.bor-left{\r\n\t\tborder-left: 1upx solid #333333;\r\n\t}\r\n}\n</style>\n","import mod from \"-!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportForm.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportForm.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591177054384\n      var cssReload = require(\"D:/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}